{"version":3,"sources":["locator-views.js"],"names":["$","Drupal","shs_locators","shs_locator","LocatorWidgetView","shs","WidgetView","extend","render","widget","prototype","apply","this","$el","append","text","val","jQuery"],"mappings":"CAAC,SAAUA,EAAGC,GACZ,YA6CAA,GAAOC,aAAeD,EAAOE,gBAE7BF,EAAOC,aAAaE,kBAAoBH,EAAOI,IAAIC,WAAWC,QAI5DC,OAAQ,WAEN,GAAIC,GAASR,EAAOI,IAAIC,WAAWI,UAAUF,OAAOG,MAAMC,KAe1D,OAdAH,GAAOI,IAAIC,OAAOd,EAAE,YAAYe,KAAK,QAAQC,IAAI,aAc1CP,MAIXQ,OAAQhB","file":"../locator-views.js","sourcesContent":["(function ($, Drupal) {\n  'use strict';\n\n  function setupLocatorViews(context) {\n    $('.LocatorView .views-exposed-form', context).each(function () {\n      var form = $(this);\n\n      form.find('.form-submit').hide();\n\n      form.find('.FormElement-select.shs-enabled').on('change', function () {\n        var val = form.find('.shs-widget-container:last option:selected');\n\n        if (!val.hasClass('has-children')) {\n          form.find('.form-submit').trigger('click');\n        }\n      });\n    });\n  }\n\n  // function setupLocatorLabels(locator, labels) {\n  //   labels = labels || [];\n  //\n  //   // TODO: Replace SHS labels at each level provided\n  // }\n  //\n  // Drupal.behaviors.goodwayLocatorViews = {\n  //   attach: function (context, settings) {\n  //     setupLocatorViews(context);\n  //\n  //     var salesRepLocator = $('.LocatorView', context);\n  //     var distributorLocator = $('.LocatorView', context);\n  //\n  //     setupLocatorLabels(salesRepLocator, [\n  //       ' - Select country - ',\n  //       ' - Select state/province - '\n  //     ]);\n  //\n  //     setupLocatorLabels(distributorLocator, [\n  //       ' - Select region - ',\n  //       ' - Select country - ',\n  //       ' - Select state/province - '\n  //     ]);\n  //   }\n  // };\n\n  \n  Drupal.shs_locators = Drupal.shs_locator || {};\n\n  Drupal.shs_locators.LocatorWidgetView = Drupal.shs.WidgetView.extend(/** @lends Drupal.shs_locator.LocatorWidgetView# */{\n    /**\n     * @inheritdoc\n     */\n    render: function () {\n      // Call parent render function.\n      var widget = Drupal.shs.WidgetView.prototype.render.apply(this);\n      widget.$el.append($('<option>').text('TEST').val('test-val'));\n      debugger;\n\n      // if (widget.container.app.getConfig('display.chosen')) {\n      //   widget.$el.addClass('chosen-enable');\n      //   var settings = {\n      //     chosen: {}\n      //   };\n      //   $.extend(true, settings.chosen, widget.container.app.getConfig('display.chosen'));\n      //   // Attach chosen behavior.\n      //   Drupal.behaviors.chosen.attach(widget.container.$el, settings);\n      // }\n\n      // Return self for chaining.\n      return widget;\n    }\n  });\n\n}(jQuery, Drupal));\n"]}