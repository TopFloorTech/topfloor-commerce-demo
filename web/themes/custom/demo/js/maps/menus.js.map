{"version":3,"sources":["menus.js"],"names":["$","equalizeMenuPanelHeights","find","each","$visiblePanels","this","visiblePanelHeights","map","a","b","height","greatestPanelHeight","Math","max","apply","setupOffCanvas","container","buttonSelector","side","afterOpen","afterClose","offside","slidingElementsSelector","buttonsSelector","slidingSide","on","window","factory","closeOpenOffside","setupOffCanvasMenu","originalMenu","utilityMenu","offCanvasMenu","clone","$filterButton","$myAccountButton","click","event","preventDefault","$icon","removeClass","addClass","text","slicknav","prependTo","allowParentLinks","label","closedSymbol","String","fromCharCode","openedSymbol","setupMainMenu","menu","superfish","delay","cssArrows","speed","disableHI","onShow","onHide","Drupal","behaviors","demoMenus","attach","context","settings","mainMenu","jQuery"],"mappings":"CAAC,SAAUA,GACT,YAEA,SAASC,KACPD,EAAE,0BAA0BE,KAAK,yCAAyCC,KAAK,WAC7E,GAAIC,GAAiBJ,EAAEK,MAAMH,KAAK,sBAE9BI,EAAsBF,EAAeG,IACvC,SAAUC,EAAGC,GACX,MAAOT,GAAES,GAAGC,WAGZC,EAAsBC,KAAKC,IAAIC,MAAM,KAAMR,EAE3CK,GAAsB,MACxBA,EAAsB,KAIxBP,EAAeD,KAAK,SAAUK,EAAGC,GAC/BT,EAAES,GAAGC,OAAOC,OAKlB,QAASI,GAAeC,EAAWC,EAAgBC,EAAMC,EAAWC,GAClEC,QAAQL,GACNM,wBAAyB,kEACzBC,gBAAiBN,EACjBO,YAAcN,GAAQ,OACtBC,UAAW,WACLA,GACFA,EAAUd,OAGde,WAAY,WACNA,GACFA,EAAWf,SAKjBL,EAAE,gBAAgByB,GAAG,QAASC,OAAOL,QAAQM,QAAQC,kBAGvD,QAASC,GAAmBC,EAAcC,GACxC,GAAIC,GAAgBF,EAAaG,QAC7BC,EAAgBlC,EAAE,8CAClBmC,EAAmBnC,EAAE,0DAEzBkC,GAAcE,MAAM,WAClBC,MAAMC,kBAGR,IAEIC,GAAQvC,EAAE,qBAAqBE,KAAK,MAExCa,GAAe,qBAAsB,oBAAqB,OAAQ,WAChEwB,EAAMC,YAJU,WAIeC,SALf,oBAMf,WACDF,EAAMC,YAPU,mBAOeC,SANf,aASlB1B,EAAe,sBAAuB,6CAA8C,QAAS,WAC3FmB,EAAcQ,KAAK,kBAClB,WACDR,EAAcQ,KAAK,oBAGrB3B,EAAe,wBAAyB,0DAA2D,QAAS,WAC1GoB,EAAiBO,KAAK,eACrB,WACDP,EAAiBO,KAAK,sBAIxB1C,EAAE,aAAc+B,GAAaY,UAC3BC,UAAW,oBACXC,kBAAkB,EAClBC,MAAO,GACPC,aAAcC,OAAOC,aAAa,UAClCC,aAAcF,OAAOC,aAAa,YACjCN,SAAS,QAGZX,EAAcW,UACZC,UAAW,oBACXC,kBAAkB,EAClBC,MAAO,GACPC,aAAcC,OAAOC,aAAa,UAClCC,aAAcF,OAAOC,aAAa,YACjCN,SAAS,QAGd,QAASQ,GAAcC,GACrBA,EACGX,SAAS,WACTY,WACCC,MAAO,EACPC,WAAW,EACXC,MAAO,EACPC,WAAW,EACXC,OAAQzD,EACR0D,OAAQ1D,IAId2D,OAAOC,UAAUC,WACfC,OAAQ,SAAUC,EAASC,GACzB,GAAIC,GAAWlE,EAAE,kDAAmDgE,EACpEnC,GAAmBqC,EAAU,uCAC7Bf,EAAce,MAGlBC","file":"../menus.js","sourcesContent":["(function ($) {\n  'use strict';\n\n  function equalizeMenuPanelHeights() {\n    $('#block-main-navigation').find('.Menu--main > .Menu-list > .Menu-item').each(function () {\n      var $visiblePanels = $(this).find('.Menu-list:visible');\n\n      var visiblePanelHeights = $visiblePanels.map(\n        function (a, b) {\n          return $(b).height();\n        });\n\n      var greatestPanelHeight = Math.max.apply(null, visiblePanelHeights);\n\n      if (greatestPanelHeight < 200) {\n        greatestPanelHeight = 200;\n      }\n\n      // apply greatest panel height accross menu\n      $visiblePanels.each(function (a, b) {\n        $(b).height(greatestPanelHeight);\n      });\n    });\n  }\n\n  function setupOffCanvas(container, buttonSelector, side, afterOpen, afterClose) {\n    offside(container, {\n      slidingElementsSelector: '.viewport, .PageSection--header, .PageSection--responsiveHeader',\n      buttonsSelector: buttonSelector,\n      slidingSide: (side || 'left'),\n      afterOpen: function () {\n        if (afterOpen) {\n          afterOpen(this);\n        }\n      },\n      afterClose: function () {\n        if (afterClose) {\n          afterClose(this);\n        }\n      }\n    });\n\n    $('.SiteOverlay').on('click', window.offside.factory.closeOpenOffside);\n  }\n\n  function setupOffCanvasMenu(originalMenu, utilityMenu) {\n    var offCanvasMenu = originalMenu.clone();\n    var $filterButton = $('.Block--filter-results-link .aluminum-link');\n    var $myAccountButton = $('.Block--responsive-my-account-pages-link .aluminum-link');\n\n    $filterButton.click(function () {\n      event.preventDefault();\n    });\n\n    var openedClass = 'fa-times-circle';\n    var closedClass = 'fa-bars';\n    var $icon = $('.Block--menu-icon').find('.fa');\n\n    setupOffCanvas('#js-mobileMenuLeft', '.Block--menu-icon', 'left', function () {\n      $icon.removeClass(closedClass).addClass(openedClass);\n    }, function () {\n      $icon.removeClass(openedClass).addClass(closedClass);\n    });\n\n    setupOffCanvas('#js-mobileMenuRight', '.Block--filter-results-link .aluminum-link', 'right', function () {\n      $filterButton.text('Close Filters');\n    }, function () {\n      $filterButton.text('Filter Results');\n    });\n\n    setupOffCanvas('#js-mobileMenuAccount', '.Block--responsive-my-account-pages-link .aluminum-link', 'right', function () {\n      $myAccountButton.text('Close Menu');\n    }, function () {\n      $myAccountButton.text('My Account Pages');\n    });\n\n    // add existing utility menu...\n    $('.Menu-list', utilityMenu).slicknav({\n      prependTo: '.MobileMenu--left',\n      allowParentLinks: true,\n      label: '',\n      closedSymbol: String.fromCharCode('0xf078'),\n      openedSymbol: String.fromCharCode('0xf077')\n    }).slicknav('open');\n\n    // add existing main menu...\n    offCanvasMenu.slicknav({\n      prependTo: '.MobileMenu--left',\n      allowParentLinks: true,\n      label: '',\n      closedSymbol: String.fromCharCode('0xf078'),\n      openedSymbol: String.fromCharCode('0xf077')\n    }).slicknav('open');\n  }\n\n  function setupMainMenu(menu) {\n    menu\n      .addClass('sf-menu')\n      .superfish({\n        delay: 0,\n        cssArrows: false,\n        speed: 0,\n        disableHI: true,\n        onShow: equalizeMenuPanelHeights,\n        onHide: equalizeMenuPanelHeights\n      });\n  }\n\n  Drupal.behaviors.demoMenus = {\n    attach: function (context, settings) {\n      var mainMenu = $('#block-main-navigation .Menu--main > .Menu-list', context);\n      setupOffCanvasMenu(mainMenu, '.Block--menu-utility .Menu--utility');\n      setupMainMenu(mainMenu);\n    }\n  };\n}(jQuery));\n"]}